<%- include('../partials/admin-header', { title }) %>

<div class="max-w-2xl mx-auto mt-8">
  <h1 class="text-2xl font-bold mb-6">
    <%= product ? 'Edit Produk' : 'Tambah Produk' %>
  </h1>

  <form action="<%= action %>" method="POST" class="space-y-5 bg-white p-6 rounded shadow-md border">
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Nama Produk</label>
      <input type="text" name="name" required value="<%= product ? product.name : '' %>"
             class="w-full border rounded px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Kategori</label>
      <select name="category_id" required
              class="w-full border rounded px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none">
        <% categories.forEach(cat => { %>
          <option value="<%= cat.id %>" <%= product && product.category_id === cat.id ? 'selected' : '' %>>
            <%= cat.name %>
          </option>
        <% }) %>
      </select>
    </div>
<!-- Rate -->
<div>
  <label class="block text-sm font-medium text-gray-700 mb-1">Rate</label>
  <input type="number" name="rate" required min="0" step="0.01"
         value="<%= product ? product.rate : '' %>"
         class="w-full border rounded px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
</div>
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Harga (Rp)</label>
      <input type="number" name="price" required min="0"
             value="<%= product ? product.price : '' %>"
             class="w-full border rounded px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
    </div>

    <div class="flex items-center space-x-3">
      <input type="checkbox" name="is_active" id="is_active"
             <%= product && product.is_active ? 'checked' : '' %>
             class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" />
      <label for="is_active" class="text-sm text-gray-700">Tampilkan produk ke publik</label>
    </div>

    <div class="pt-4">
      <button type="submit"
              class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition duration-300">
        Simpan
      </button>
      <a href="/admin/produk" class="ml-4 text-gray-600 hover:underline text-sm">Batal</a>
    </div>
  </form>
</div>




<%- include('../partials/admin-footer') %>
